/* ==========================================================================
   ZIIX.RU DESIGN SYSTEM (HUGO PAPERMOD)
   ========================================================================== */

/* --- 1. ШАПКА (STICKY HEADER) --- */
.header {
    position: sticky;
    top: 0;
    z-index: 50;
    margin-bottom: 24px !important;
    background: transparent !important;
    transition: transform 0.25s ease-out;
}

.header .nav {
    position: relative;
    max-width: calc(var(--main-width) + var(--gap) * 2);
    margin: 0 auto;
    padding: 8px 20px;
    border-radius: 0 0 12px 12px;
    border-top: none;
    background: transparent !important;
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    border: 1px solid var(--border);
    border-top: none;
    overflow: hidden;
}

.header .nav::before {
    content: "";
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    z-index: -1;
    background-color: var(--theme);
    opacity: 0.9;
}

.header.header--hidden { transform: translateY(-110%); }
.logo { margin-right: auto; }
#menu { margin-left: auto; }

/* --- 2. ГЛАВНАЯ (ПРИВЕТСТВИЕ) --- */
.main { margin-top: 20px !important; }

.first-entry {
    min-height: auto !important;
    margin-bottom: 32px !important;
    padding: 0 !important;
    background: transparent !important;
    border: none !important;
}

.first-entry h1 { font-size: 32px !important; margin-bottom: 12px; }
.first-entry .entry-content { font-size: 18px !important; color: var(--secondary); }

/* --- 3. СЕТКА ПОСТОВ (GRID) - REFERENCE STYLE --- */
@media screen and (min-width: 768px) {
    .main {
        display: flex;
        flex-wrap: wrap;
        gap: 24px;
        align-items: stretch; /* Растягиваем по высоте */
    }

    .first-entry { flex: 0 0 100%; width: 100%; }
    .pagination { flex: 0 0 100%; width: 100%; margin-top: 40px; }

    .post-entry {
        /* Размеры */
        width: calc(50% - 12px);
        margin-bottom: 0 !important;
        
        /* Внешний вид карточки */
        background: var(--entry);
        border: 1px solid var(--border); /* Или border: none; если хочешь без рамок */
        border-radius: 16px;
        padding: 24px;
        
        /* Flexbox для перестановки элементов */
        display: flex;
        flex-direction: column;
        
        transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
    }
    
    .post-entry:hover {
        transform: translateY(-6px);
        box-shadow: 0 12px 30px -10px rgba(0,0,0,0.2);
        border-color: var(--primary);
    }

    /* === МАГИЯ ПЕРЕСТАНОВКИ === */
    
    /* 1. Заголовок (Header) - ставим первым */
    .post-entry .entry-header {
        order: 1;
        margin-bottom: 12px;
    }
    
    /* 2. Текст описания (Content) - ставим вторым */
    .post-entry .entry-content {
        order: 2;
        flex-grow: 1; /* Растягивается, если карточка высокая */
        font-size: 15px;
        line-height: 1.6;
        color: var(--secondary);
        margin-bottom: 16px;
    }
    
    /* 3. Футер (Дата/теги) - ставим в самом низу, если он есть */
    .post-entry .entry-footer {
        order: 4;
        margin-top: auto;
        font-size: 13px;
        opacity: 0.7;
    }

    /* 4. Картинка (Cover) - ставим ТРЕТЬЕЙ (между текстом и футером) */
    .post-entry .entry-cover {
        order: 3;
        margin: 0 -24px 16px -24px !important; /* Компенсируем padding родителя */
        border-radius: 0; /* Внутри карточки прямые края */
        overflow: hidden;
    }
    
    .post-entry .entry-cover img {
        width: 100%;
        height: 180px; /* Высота картинки */
        object-fit: cover;
        display: block;
        transition: transform 0.5s ease;
    }
    
    .post-entry:hover .entry-cover img {
        transform: scale(1.03);
    }
    
    /* Типографика заголовков в карточках */
    .post-entry h2 {
        font-size: 20px;
        line-height: 1.3;
        font-weight: 700;
    }
}

/* --- 4. КОММЕНТАРИИ --- */
.giscus, .giscus-frame { background: transparent !important; margin-top: 40px; }
