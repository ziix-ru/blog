/* 
   СУПЕР-УНИВЕРСАЛЬНАЯ ШАПКА
   Работает с любой темой автоматически, используя переменные Hugo.
*/

.header {
    position: sticky;
    top: 0;
    z-index: 50;
    margin-bottom: 12px !important;
    background: transparent !important;
    transition: transform 0.25s ease-out;
}

/* 
   ХИТРОСТЬ: Вместо background-color мы используем псевдо-элемент ::before.
   Это позволяет взять цвет темы (var(--theme)) и сделать его полупрозрачным (opacity),
   не ломая прозрачность текста.
*/
.header .nav {
    position: relative; /* Чтобы позиционировать ::before внутри */
    max-width: calc(var(--main-width) + var(--gap) * 2);
    margin: 0 auto;
    padding: 6px 18px;
    border-radius: 0 0 10px 10px;
    border-top: none;
    
    /* Убираем обычный фон */
    background: transparent !important;
    
    /* Размытие */
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    
    /* Граница (используем var(--border) от PaperMod - она сама меняется!) */
    border: 1px solid var(--border);
    border-top: none;
    
    overflow: hidden; /* Чтобы фон не вылезал за скругления */
}

/* Полупрозрачная подложка цвета темы */
.header .nav::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: -1; /* Кладем ПОД текст */
    
    /* БЕРЕМ ЦВЕТ ТЕМЫ АВТОМАТИЧЕСКИ */
    background-color: var(--theme);
    
    /* Делаем его полупрозрачным */
    opacity: 0.85; 
}

/* Скрытие при скролле */
.header.header--hidden {
    transform: translateY(-110%);
}

.logo { margin-right: auto; }
#menu { margin-left: auto; }
