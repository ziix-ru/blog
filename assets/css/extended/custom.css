/* Липкая шапка (Sticky Header) */
.header {
    /* Позиционирование */
    position: sticky;
    top: 0;
    z-index: 50;
    
    /* Отступы */
    margin-bottom: 12px !important;
    padding-bottom: 0;
    
    /* Сам контейнер .header делаем прозрачным */
    background: transparent !important;
    
    /* Анимация скрытия */
    transition: transform 0.25s ease-out;
}

/* Оформление внутренней полоски навигации (.nav) */
.header .nav {
    /* Ограничиваем ширину, чтобы не расплывалась на 4k мониторах */
    max-width: calc(var(--main-width) + var(--gap) * 2);
    margin: 0 auto;
    
    /* Паддинги поменьше, чтобы было аккуратно */
    padding: 6px 18px;
    
    /* Скругление только снизу */
    border-radius: 0 0 10px 10px;
    
    /* Убираем верхнюю границу (она там не нужна, прилипает к краю) */
    border-top: none;

    /* == ЦВЕТА ЧЕРЕЗ ПЕРЕМЕННЫЕ PAPERMOD == */
    
    /* Фон берем из переменной темы, но добавляем чуть прозрачности */
    /* Используем --theme (основной фон страницы) */
    background: var(--theme); 
    
    /* Но чтобы работало размытие (backdrop-filter), нам нужен полупрозрачный цвет.
       Переменная --theme обычно hex (непрозрачный). 
       Поэтому используем хак с rgba или просто задаем цвет, близкий к теме.
    */
}

/* 
   Так как CSS-переменные в PaperMod — это HEX (#ffffff, #1d1e20),
   мы не можем просто добавить им альфа-канал через var().
   
   Поэтому сделаем проще: используем селектор body.dark для явного переопределения,
   но возьмем цвета, ИДЕНТИЧНЫЕ дефолтным цветам PaperMod.
*/

/* СВЕТЛАЯ ТЕМА (Default) */
.header .nav {
    /* Белый полупрозрачный */
    background: rgba(255, 255, 255, 0.85);
    
    /* Размытие фона под шапкой */
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    
    /* Тонкая граница */
    border: 1px solid rgba(0, 0, 0, 0.08);
}

/* ТЁМНАЯ ТЕМА */
body.dark .header .nav {
    /* Цвет #1d1e20 (это дефолтный фон PaperMod dark), но с прозрачностью */
    background: rgba(29, 30, 32, 0.85);
    
    /* Граница чуть светлее фона (как у карточек в PaperMod) */
    border: 1px solid rgba(255, 255, 255, 0.1);
}

/* Класс для скрытия шапки (добавляется JS-ом) */
.header.header--hidden {
    transform: translateY(-110%);
}

/* Выравнивание лого и меню */
.logo { margin-right: auto; }
#menu { margin-left: auto; }
