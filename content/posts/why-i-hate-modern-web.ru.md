---
title: "Почему я ненавижу современный веб: Мой сайт весит 3.5 КБ, и вот почему это важно"
date: 2025-12-09T05:30:00+03:00
draft: false
description: "О том, как React и SPA убили производительность, почему правило 14KB — это база, и как Hugo возвращает здравый смысл в веб-разработку."
tags: ["hugo", "react", "performance", "rant", "optimization"]
categories: ["Web", "DevOps", "Opinion"]

cover:
    image: "https://wallpaperaccess.com/full/2918041.jpg"
    alt: "Сравнение веса сайтов"
    relative: false
---

Мы свернули не туда.

Серьезно. Чтобы сегодня прочитать текст в интернете, мой браузер должен скачать пару мегабайт JavaScript-кода, распарсить его, построить "Виртуальный DOM", "гидратировать" состояние и, наконец, (если мне повезет и ничего не упадет с ошибкой `undefined is not a function`) показать мне этот чертов текст.

Я — DevOps инженер. Я привык экономить ресурсы. И когда я вижу, как пустой блог на Next.js или Gatsby весит больше, чем Doom 1993 года, мне становится физически больно.

Поэтому я решил проверить свой блог на Hugo. Результат заставил меня смеяться.

### 3.5 Килобайта. Это не шутка.

Я не поверил глазам, поэтому полез в терминал проверять "по приборам".
Мы привыкли к мегабитным каналам, но физику не обманешь.

Я использовал `curl`, чтобы узнать, сколько **реально** весит главная страница этого сайта, когда она летит по проводу от моего сервера к вам.

```
curl -H "Accept-Encoding: gzip" -so /dev/null -w '%{size_download}\n' https://ziix.ru
# Результат: 3563
```

**3563 байта.** 3.5 КБ.
Это вес всей главной страницы. С версткой, текстами, ссылками и стилями.

Для сравнения:
*   Пустой проект на React (create-react-app): **~150-200 КБ** (минимум).
*   Средняя картинка в Instagram: **~1000 КБ**.
*   Мой сайт: **3.5 КБ**.

### Зачем такая экономия в 2025 году?

"У всех же 5G и оптоволокно!" — скажет типичный React-разработчик, попивая смузи.
Нет, не у всех. Но дело даже не в скорости интернета. Дело в **физике протокола TCP**.

Существует так называемое **Правило 14KB (TCP Slow Start)**.

Объясняю на пальцах:
Когда ваш телефон соединяется с сервером, они еще не знают качество связи. Сервер не может просто вывалить на вас мегабайт данных — канал может захлебнуться.
Поэтому сервер начинает осторожно. Он отправляет маленькую пачку данных — обычно это около **14 килобайт** (10 пакетов).

И дальше происходит магия:
1.  **Если сайт весит < 14 КБ:** Он пролетает целиком за **один раз**. Браузер получает всё мгновенно и сразу рисует картинку. Вы даже моргнуть не успеете.
2.  **Если сайт весит > 14 КБ:** Сервер отправляет кусочек, останавливается и ждет, пока ваш телефон крикнет: "Всё ок, давай еще!". Это создает задержку (Ping/RTT). На плохом мобильном интернете это ожидание превращает "быстрый" сайт в тормозящее нечто.

Мой блог весит **3.5 КБ**. Он пролетает в этот лимит со свистом, занимая всего 25% от стартового окна. Это и есть та самая "мгновенная загрузка", которую мы потеряли в эпоху SPA.

### Почему React для блога — это зло

Я не против JS-фреймворков там, где они нужны (сложные дашборды, онлайн-редакторы). Но пихать React в блог, новостной сайт или лендинг — это преступление против пользователя.

1.  **Белый экран смерти.** Пока JS не загрузится, пользователь видит пустоту.
2.  **Батарея телефона.** Ваш телефон греется, потому что процессор занят рендерингом того, что сервер мог бы отдать готовым HTML-файлом.
3.  **Сложность.** `npm install` на 200 мегабайт зависимостей ради того, чтобы вывести заголовок `<h1>Привет</h1>`? Серьезно?

### Вывод

Мы используем Hugo + PaperMod + Nginx.
Это **Static Site Generator**. Здесь нет базы данных, нет PHP, нет серверного рендеринга на лету.
Есть просто чистый HTML и CSS, который Nginx выстреливает в сеть как из пулемета.

Результат — **100/100** в Google PageSpeed и сайт, который открывается быстрее, чем вы убираете палец с экрана.

Уважайте своих пользователей. Не заставляйте их греть атмосферу процессорами своих айфонов.
